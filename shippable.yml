language: node_js
node_js:
  - 6
build:
  pre_ci_boot:
    image_name: drydock/u14nod
    image_tag: prod
    pull: true
  ci:
    - shippable_retry npm install --unsafe-perm
    - npm run build
    - npm test
  cache: true
  cache_dir_list:
    - $SHIPPABLE_BUILD_DIR/node_modules
    - $SHIPPABLE_BUILD_DIR/packages/dx-core/node_modules
    - $SHIPPABLE_BUILD_DIR/packages/dx-datagrid-core/node_modules
    - $SHIPPABLE_BUILD_DIR/packages/dx-react-core/node_modules
    - $SHIPPABLE_BUILD_DIR/packages/dx-react-datagrid/node_modules
    - $SHIPPABLE_BUILD_DIR/packages/dx-react-datagrid-bootstrap3/node_modules
    - $SHIPPABLE_BUILD_DIR/packages/dx-react-demos/node_modules
